#include <iostream>
#include <string>
#include <queue>
#include <stdexcept>

template <typename T>
class Cola {
private:
    std::queue<T> datos;

public:
    void enqueue(const T& elemento){
        datos.push(elemento);
    }

    T dequeue(){
        if(datos.empty())
            throw std::runtime_error("La cola está vacía");
        T aux = datos.front();
        datos.pop();
        return aux;
    }

    bool empty() const {
        return datos.empty();
    }
};

class Alumno {
private:
    std::string nombre;
    std::string carrera;
    int materiasAprobadas;
    float promedio;

public:
    Alumno() : nombre(""), carrera(""), materiasAprobadas(0), promedio(0) {}


    friend std::istream& operator>>(std::istream& in, Alumno& a){
        std::cout << "Nombre del alumno: ";
        getline(in, a.nombre);

        std::cout << "Carrera: ";
        getline(in, a.carrera);

        std::cout << "Total de materias aprobadas: ";
        in >> a.materiasAprobadas;

        std::cout << "Promedio general: ";
        in >> a.promedio;

        in.ignore();
        return in;
    }

    friend std::ostream& operator<<(std::ostream& out, const Alumno& a){
        out << "\n CONSTANCIA DE ALUMNO \n";
        out << "Nombre: " << a.nombre << "\n";
        out << "Carrera: " << a.carrera << "\n";
        out << "Materias aprobadas: " << a.materiasAprobadas << "\n";
        out << "Promedio general: " << a.promedio << "\n";
        return out;
    }
};


int main(){
    Cola<Alumno> Solicitudes;
    int opcion;

    do {
        std::cout << "MENU DE SOLICITUDES\n";
        std::cout << "1. Dar de alta solicitud\n";
        std::cout << "2. Mostrar\n";
        std::cout << "3. Salir\n";
        std::cout << "Opcion: ";
        std::cin >> opcion;
        std::cin.ignore();

        if(opcion == 1){
            Alumno A;
            std::cin >> A;
            Solicitudes.enqueue(A);
            std::cout << "Solicitud registrada correctamente.\n\n";
        }
        else if(opcion == 2){
            if(!Solicitudes.empty()){
                Alumno atendido = Solicitudes.dequeue();
                std::cout << atendido;
            } else {
                std::cout << "No hay solicitudes pendientes.\n\n";
            }
        }

    } while(opcion != 3);

    std::cout << "Programa finalizado.\n";
    return 0;
}
